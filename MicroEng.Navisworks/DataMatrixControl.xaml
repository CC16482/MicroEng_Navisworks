<UserControl x:Class="MicroEng.Navisworks.DataMatrixControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="600"
             d:DesignWidth="900"
             Background="{DynamicResource AppBackgroundBrush}">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MicroEng.Navisworks;component/Assets/Theme/MicroEngUiKit.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid Margin="{StaticResource PagePadding}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Style="{StaticResource CardBorder}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Vertical">
                    <TextBlock Text="Data Matrix" Style="{StaticResource PageTitleText}" />
                    <TextBlock Text="Tabular view of the latest scrape session." Style="{StaticResource SubtleText}" />
                </StackPanel>

                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Left">
                    <TextBlock Text="Data Source:" VerticalAlignment="Center" Margin="0,0,6,0"/>
                    <ComboBox x:Name="ProfileCombo" Width="160" Style="{StaticResource InputComboBoxStyle}" />
                    <Button x:Name="RefreshProfilesButton" Content="Refresh" Style="{StaticResource ToolbarButtonStyle}" />

                    <TextBlock Text="View:" VerticalAlignment="Center" Margin="12,0,6,0"/>
                    <ComboBox x:Name="ViewPresetCombo" Width="140" Style="{StaticResource InputComboBoxStyle}" />
                    <Button x:Name="SaveViewButton" Content="Save" Style="{StaticResource ToolbarButtonStyle}"/>
                    <Button x:Name="SaveViewAsButton" Content="Save As" Style="{StaticResource ToolbarButtonStyle}"/>
                    <Button x:Name="DeleteViewButton" Content="Delete" Style="{StaticResource ToolbarButtonStyle}"/>

                    <Button x:Name="ColumnsButton" Content="Columns..." Style="{StaticResource ToolbarButtonStyle}" Margin="12,0,0,0"/>
                    <ToggleButton x:Name="SyncToggle" Content="Sync selection" Margin="8,0,0,0"/>
                    <CheckBox x:Name="SelectedOnlyCheck" Content="Selected only" Margin="8,0,0,0"/>

                    <Menu Margin="8,0,0,0">
                        <MenuItem Header="Export">
                            <MenuItem Header="Filtered to CSV..." x:Name="ExportFilteredMenu"/>
                            <MenuItem Header="All to CSV..." x:Name="ExportAllMenu"/>
                        </MenuItem>
                    </Menu>
                </StackPanel>
            </Grid>
        </Border>

        <Border Grid.Row="1" Style="{StaticResource CardBorder}" Padding="0">
            <DataGrid x:Name="MatrixGrid"
                      Style="{StaticResource DataGridStandardStyle}"
                      IsReadOnly="False"
                      Sorting="MatrixGrid_Sorting"
                      SelectionChanged="MatrixGrid_SelectionChanged"
                      />
        </Border>

        <StatusBar Grid.Row="2" Background="{StaticResource CardBackgroundBrush}" BorderBrush="{StaticResource CardBorderBrush}" BorderThickness="1">
            <StatusBarItem>
                <TextBlock x:Name="RowsStatus" Text="Rows: 0" />
            </StatusBarItem>
            <StatusBarItem>
                <TextBlock x:Name="ProfileStatus" Text="Profile: -" />
            </StatusBarItem>
            <StatusBarItem>
                <TextBlock x:Name="ViewStatus" Text="View: (Default)" />
            </StatusBarItem>
        </StatusBar>
    </Grid>
</UserControl>
